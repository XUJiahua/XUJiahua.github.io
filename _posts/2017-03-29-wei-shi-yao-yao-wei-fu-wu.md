---
layout: post
title: "为什么要微服务"
modified: 2017-03-29 20:38:10 +0800
category: []
tags: [微服务]
image:
  feature: 
  credit: 
  creditlink: 
comments: 
share: 
---

--

现在工作中一个很大感受就是后端架构让人凌乱。每个模块都有自己专用的数据库，都有商户、终端表，数据内容其实都是差不多的，几个数据库通过工具同步数据，不仅单向同步，还有双向同步！

同步没问题还好，每个模块各做各的。一旦同步有问题，因为终端连几个模块，会产生不一致的行为。每次都是搞了半天，最终发现是后台数据没同步上。

我猜这种架构的意义在于，一个模块的任何部分挂了，都不影响其他模块。但带来的副作用也不少，维护好几个数据库，维护同步工具，改一个功能，可能就要几个模块都配合改。具体为什么就不得而知了。

其实最好的办法，就是把商户／终端作为服务提取出来，只维护一个数据库，提高这个服务的高可用。

好的架构达到的效果应该1+1>2的，新增功能、新加入开发人员，都是可以scale up。坏的架构，都忙的要死，加了人还是忙的要死。

按功能职责拆分服务，各个服务按照各自的变动频率来发布，提高了迭代的同时，不再互相影响。之前交易、平台、接口从一个应用中一分为三后，明显提高了开发效率。

标题取了微服务的字眼，其实微服务跟以前的SOA理念上没啥区别。
现在有了OpenStack、docker、k8s等、再加上微服务的方法论很多了，就差实践了，多学习新技术，解决实际的困难。
