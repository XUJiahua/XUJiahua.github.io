---
layout: post
title: "ARP协议"
modified: 2015-02-15 07:31:36 -0800
category: []
tags: [ARP,Hack,计算机网络]
image:
  feature: 
  credit: 
  creditlink: 
comments: 
share: 
---

# ARP协议 #

相较来说，Web程序员对DNS的熟悉程度甚于ARP协议。ARP偏底层，不大容易接触到。读到[绕过WiFi验证：四招教你免费用WiFi](http://daily.zhihu.com/story/4540910)一文，改天找个类似环境实践下，先借此机会梳理下ARP协议。

两者有些类似，都是翻译协议，只是所处的层不一样。DNS是将对人友好的地址翻译成IP地址。而ARP，则是将IP地址翻译成MAC机器地址。

理解ARP，wiki上摘录的：

> For example the computers Matterhorn and Washington are in an office, connected to each other on the office local area network by Ethernet cables and network switches, with no intervening gateways or routers. Matterhorn wants to send a packet to Washington. Through DNS, it determines that Washington's IP address is 192.168.0.55. In order to send the message, it also needs to know Washington's MAC address. First, Matterhorn uses a cached ARP table to look up 192.168.0.55 for any existing records of Washington's MAC address (00:eb:24:b2:05:ac). If the MAC address is found, it sends the IP packet encapsulated in a level 2 frame on the link layer to address 00:eb:24:b2:05:ac via the local network cabling. If the cache did not produce a result for 192.168.0.55, Matterhorn has to send a broadcast ARP message (destination FF:FF:FF:FF:FF:FF MAC address which is accepted by all computers) requesting an answer for 192.168.0.55. Washington responds with its MAC address (and its IP). Washington may insert an entry for Matterhorn into its own ARP table for future use. The response information is cached in Matterhorn's ARP table and the message can now be sent.[7]


展示arp缓存：

    arp -a
    
清空缓存：

    netsh interface ip delete arpcache
或者

    arp -d

参考：

- [Address Resolution Protocol - Wikipedia, the free encyclopedia](http://en.wikipedia.org/wiki/Address_Resolution_Protocol)
- [arp-scan，适用*nix系统，Windows用用arp命令就好](https://github.com/royhills/arp-scan)
- [Quick Tips: Flush the ARP cache in Windows 7](http://www.techrepublic.com/blog/windows-and-office/quick-tips-flush-the-arp-cache-in-windows-7/)
- [How to Change a Computer's Mac Address in Windows](http://www.wikihow.com/Change-a-Computer%27s-Mac-Address-in-Windows)


待续。。。
